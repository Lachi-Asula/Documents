CREATE USER ATTENDANCETRACKER IDENTIFIED BY FRIENDS#456 ;
GRANT CONNECT,RESOURCE,DBA TO ATTENDANCETRACKER;
GRANT CREATE SESSION, GRANT ANY PRIVILEGE TO ATTENDANCETRACKER;
GRANT UNLIMITED TABLESPACE TO ATTENDANCETRACKER;

drop sequence IDVAL;
drop sequence SMSIDVAL;
drop sequence BATCHIDVAL;
drop sequence EMPID;
drop sequence batch01;
drop sequence batch02;
drop sequence batch03;
drop sequence batch04;
drop sequence batch05;


drop table TBL_AUDIT_BATCH_INFO;
drop table TBL_AUDIT_STAFF_INFO;
drop table TBL_AUDIT_EMP_INFO;
drop TABLE TBL_AUDIT_OTP_INFO;
DROP TABLE TBL_AUDIT_MCA201;
DROP TABLE TBL_AUDIT_MCA202;
DROP TABLE TBL_AUDIT_MCA203;
DROP TABLE TBL_AUDIT_CSE401;
DROP TABLE TBL_AUDIT_CSE402;


create sequence EMPID START WITH 21111;
create sequence BATCHIDVAL;
create sequence SMSIDVAL;
create sequence IDVAL;
create sequence batch01;
create sequence batch02;
create sequence batch03;
create sequence batch04;
create sequence batch05;

CREATE TABLE TBL_AUDIT_STAFF_INFO
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE PRIMARY KEY,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_EMAIL_ID" VARCHAR2(100),
    "FLD_DATE_OF_BIRTH" VARCHAR2(100),
    "FLD_PHONE" VARCHAR2(30),
    "FLD_GENDER" VARCHAR2(20),
    "FLD_SPECIALIZATION" VARCHAR2(30), 
    "FLD_PASSWORD" VARCHAR2(4000)
);

INSERT INTO tbl_audit_staff_info(FLD_EMP_ID, FLD_FULL_NAME, FLD_EMAIL_ID, FLD_DATE_OF_BIRTH, FLD_PHONE, FLD_GENDER, FLD_SPECIALIZATION, FLD_PASSWORD) values(empid.nextval, 'Lakshminarayana Asula', 'asula.aln@gmail.com', '14-07-1996', '9492096265', 'Male', 'HR', 'CvqUfdChQcUU1VqUpPOtuPQhWpWXL9zOFXXkBfH8jITTKoWyAvwre9eKIaZPt/Vt7rGZyGmIVu7JhIkk0LBDlo8Z4kT+CAYzUXEqZuEH+GbTEl5W5R4Uv+Q8P5JjOGRXxo3K/O+4KaJoQj8107rZKdQ/5HeIyTVmLx68mKKZi5M=');

INSERT INTO tbl_audit_staff_info(FLD_EMP_ID, FLD_FULL_NAME, FLD_EMAIL_ID, FLD_DATE_OF_BIRTH, FLD_PHONE, FLD_GENDER, FLD_SPECIALIZATION, FLD_PASSWORD) values(empid.nextval, 'Basha', 'basha@gmail.com', '24-03-1995', '7993713615', 'Male', 'TRAINER', 'KJLRNx3wzscfICXWNXAlpl3amAwlmvqIARVUqo93nt2MIbxxCrw/JkHOf/Mv4sQS+5CgTcQBYVrZQ/On7Cx3SIVdsDNZ3ZlT4PQZ107WBcgl7pmk7u2HSnNcFhbxX4tguw696ckKERhgwKt9qT+9+2yMhIwmbzRcOuHrYNf0Rtc=');

INSERT INTO tbl_audit_staff_info(FLD_EMP_ID, FLD_FULL_NAME, FLD_EMAIL_ID, FLD_DATE_OF_BIRTH, FLD_PHONE, FLD_GENDER, FLD_SPECIALIZATION, FLD_PASSWORD) values(empid.nextval, 'Mahesh', 'mahesh@gmail.com', '18-03-1995', '9542078854', 'Male', 'PMO', 'Q/8OnnCjcE1uGoAEo7QEkzdoZpilVl/D16bSa0feepYmNY9/iV6We0DuYY+Dh5wlZOocJJC+lWlqCi9Kkoo5FjJFtsxTDuaAe2mVFt6a8/KYGqeg7UhKhK87DLsim66xc42pf8UuQ+1jem31oLlvbPC06PkXHHx7shFyzpwY/hY=');

INSERT INTO tbl_audit_staff_info(FLD_EMP_ID, FLD_FULL_NAME, FLD_EMAIL_ID, FLD_DATE_OF_BIRTH, FLD_PHONE, FLD_GENDER, FLD_SPECIALIZATION, FLD_PASSWORD) values(empid.nextval, 'Ajay Kumar', 'ajay@gmail.com', '24-03-1995', '8465932891', 'Male', 'TRAINER', 'cv4L5s3RwiVuQC4bLM4rKp5s9ukl/0viG/dDJeSeIiiZ7S8fIn0b0du22IDtRpZh+I7PHuKcX00a2EESMo+7DrQLOC3HvPWsQmsz3Okk4Cd71BEiEsjvgX+fEMwp783ZC8rYbYXiYVhApTMD5rN/l4LoRde8cQuS6tRmlFu2nxI=');



CREATE TABLE TBL_AUDIT_BATCH_INFO
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int NOT NULL ENABLE PRIMARY KEY,
    "FLD_BATCH_NAME" VARCHAR2(100) NOT NULL ENABLE UNIQUE,
    "FLD_STAFF_ID" VARCHAR2(100),
    
    CONSTRAINT staff_ForiegnKey
    FOREIGN KEY (FLD_STAFF_ID)
    REFERENCES TBL_AUDIT_STAFF_INFO(FLD_EMP_ID)
);

INSERT INTO TBL_AUDIT_BATCH_INFO(FLD_ID, FLD_BATCH_NAME, FLD_STAFF_ID) VALUES (BATCHIDVAL.NEXTVAL, 'MCA201', '21112');

INSERT INTO TBL_AUDIT_BATCH_INFO(FLD_ID, FLD_BATCH_NAME, FLD_STAFF_ID) VALUES (BATCHIDVAL.NEXTVAL, 'MCA202', '21112');

INSERT INTO TBL_AUDIT_BATCH_INFO(FLD_ID, FLD_BATCH_NAME, FLD_STAFF_ID) VALUES (BATCHIDVAL.NEXTVAL, 'MCA203', '21114');

INSERT INTO TBL_AUDIT_BATCH_INFO(FLD_ID, FLD_BATCH_NAME, FLD_STAFF_ID) VALUES (BATCHIDVAL.NEXTVAL, 'CSE401', '21114');

INSERT INTO TBL_AUDIT_BATCH_INFO(FLD_ID, FLD_BATCH_NAME, FLD_STAFF_ID) VALUES (BATCHIDVAL.NEXTVAL, 'CSE402', '21114');


CREATE TABLE TBL_AUDIT_MCA201
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_STAFF_NAME" VARCHAR2(200),
    "FLD_YEAR" VARCHAR2(30),
    "FLD_MONTH" VARCHAR2(30), 
    "FLD_STATUS" VARCHAR2(30),
	
    CHECK (FLD_STATUS in ('PRESENT', 'ABSENT'))
);

CREATE TABLE TBL_AUDIT_MCA202
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_STAFF_NAME" VARCHAR2(200),
    "FLD_YEAR" VARCHAR2(30),
    "FLD_MONTH" VARCHAR2(30),
    "FLD_STATUS" VARCHAR2(30),
	
    CHECK (FLD_STATUS in ('PRESENT', 'ABSENT'))
);

CREATE TABLE TBL_AUDIT_MCA203
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_STAFF_NAME" VARCHAR2(200), 
    "FLD_YEAR" VARCHAR2(30),
    "FLD_MONTH" VARCHAR2(30),
    "FLD_STATUS" VARCHAR2(30),
	
    CHECK (FLD_STATUS in ('PRESENT', 'ABSENT'))
);

CREATE TABLE TBL_AUDIT_CSE401
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_STAFF_NAME" VARCHAR2(200),
    "FLD_YEAR" VARCHAR2(30),
    "FLD_MONTH" VARCHAR2(30), 
    "FLD_STATUS" VARCHAR2(30),
	
    CHECK (FLD_STATUS in ('PRESENT', 'ABSENT'))
);

CREATE TABLE TBL_AUDIT_CSE402
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_STAFF_NAME" VARCHAR2(200), 
    "FLD_YEAR" VARCHAR2(30),
    "FLD_MONTH" VARCHAR2(30),
    "FLD_STATUS" VARCHAR2(30),
	
    CHECK (FLD_STATUS in ('PRESENT', 'ABSENT'))
);



CREATE TABLE TBL_AUDIT_EMP_INFO
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(25) NOT NULL ENABLE UNIQUE,
    "FLD_FULL_NAME" VARCHAR2(100),
    "FLD_EMAIL_ID" VARCHAR2(100),
    "FLD_DATE_OF_BIRTH" VARCHAR2(100),
    "FLD_GENDER" VARCHAR2(20),
    "FLD_BATCH_NUM" VARCHAR2(30), 
    "FLD_PHONE_NUM" VARCHAR2(40),
    "FLD_STATUS" VARCHAR2(30),
    "FLD_PASSWORD" VARCHAR2(4000),
	
    CHECK (FLD_STATUS in ('TRAINING', 'DEPLOYED', 'BENCH'))
);


CREATE TABLE TBL_AUDIT_OTP_INFO
   (	
    "FLD_CREATED_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP NOT NULL ENABLE,
    "FLD_ID" int PRIMARY KEY,
    "FLD_EMP_ID" VARCHAR2(50) NOT NULL ENABLE UNIQUE, 
    "FLD_OTP_VALUE" VARCHAR2(40)
);

